<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculation</title>
    <style>
        body {
            display: flex;
            margin: 0;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: rgb(255, 255, 255);
        }

        .calculator {
            height: 630px;
            width: 900px;
            background-color: #e1e1e1;
            border-radius: 30px;
            box-shadow: 0px 20px 40px rgba(104, 104, 104, 0.6);
        }

        h1 {
            margin-top: 30px;
            font-size: 40px;
            text-align: center;
            color: #000000;
            margin-bottom: 10px;
        }

        .p-commodity {
            font-size: 25px;
            margin-top: 0px;
            margin-left: 40px;
            margin-bottom: 10px;
        }

        ul {
            padding: 0;
        }

        li:hover {
            box-shadow: 0px 0px 10px rgba(131, 131, 131, 0.6);
            transition: box-shadow 0.3s;
            transform: translateY(-1px);
        }

        input {
            background-color: #acacac;
            height: 23px;
            width: 23px;
            border-radius: 7px;
            cursor: pointer;
            border: none;
        }

        input:hover {
            background-color: #959595;
            transition: background-color 0.3s;
        }

        .cite-1 {
            font-size: 20px;
        }

        li {
            border-radius: 20px;
            width: 92%;
            display: flex;
            margin: 0 auto;
            align-items: center;
            justify-content: space-between;
            margin: 0 auto;
            background-color: #c7c7c7;
            padding: 0 30px;
            box-sizing: border-box;
            margin-bottom: 15px;
        }

        .strong-s {
            width: 15px;
            display: flex;
            justify-content: center;
            font-size: 18px;
            margin: 0 10px;
        }

        .div-1 {
            display: flex;
            margin-left: 10px;
            align-items: center;
            margin-right: 30px;
        }

        .p-1 {
            font-size: 20px;
            margin-right: 2px;
        }

        .div-3 {
            margin-left: 30px;
            font-weight: 800;
            font-size: 17px;
        }

        .div-4 {
            display: flex;
            height: 60px;
            width: 200px;
            align-items: center;
            font-size: 15px;
        }

        .div-5 {
            height: 60px;
            width: 200px;
            display: flex;
            align-items: center;
        }

        .div-6 {
            float: right;
            margin-right: 45px;
            margin-top: 2px;
        }

        #total-price {
        font-weight: 1000;
        font-size: 30px;
        }

        .div-6-p {
            margin: 0;
            font-weight: 800;
        }
    </style>
</head>

<body>
    <div class="calculator">
        <h1>商品选购系统</h1>
        <p class="p-commodity">商品列表：</p>
        <ul>
            <li>
                <div class="div-5">
                    <cite class="cite-1">iPhone16ProMax</cite>
                </div>
                <div class="div-1">
                    <p class="p-1">数量：</p>
                    <input type="button" value="-">
                    <strong class="strong-s">0</strong>
                    <input type="button" value="+">
                </div>
                <div class="div-4">
                    <div class="div-2">
                        单价：<cite>5元</cite>
                    </div>
                    <div class="div-3">
                        小记：<cite >0元</cite>
                    </div>
                </div>
            </li>
            <li>
                <div class="div-5">
                    <cite class="cite-1">MacBookPro</cite>
                </div>
                <div class="div-1">
                    <p class="p-1">数量：</p>
                    <input type="button" value="-">
                    <strong class="strong-s">0</strong>
                    <input type="button" value="+">
                </div>
                <div class="div-4">
                    <div class="div-2">
                        单价：<cite>8元</cite>
                    </div>
                    <div class="div-3">
                        小记：<cite >0元</cite>
                    </div>
                </div>
            </li>
            <li>
                <div class="div-5">
                    <cite class="cite-1">AppleWatch</cite>
                </div>
                <div class="div-1">
                    <p class="p-1">数量：</p>
                    <input type="button" value="-">
                    <strong class="strong-s">0</strong>
                    <input type="button" value="+">
                </div>
                <div class="div-4">
                    <div class="div-2">
                        单价：<cite>3元</cite>
                    </div>
                    <div class="div-3">
                        小记：<cite >0元</cite>
                    </div>
                </div>
            </li>
            <li>
                <div class="div-5">
                    <cite class="cite-1">iMac</cite>
                </div>
                <div class="div-1">
                    <p class="p-1">数量：</p>
                    <input type="button" value="-">
                    <strong class="strong-s">0</strong>
                    <input type="button" value="+">
                </div>
                <div class="div-4">
                    <div class="div-2">
                        单价：<cite>7元</cite>
                    </div>
                    <div class="div-3">
                        小记：<cite >0元</cite>
                    </div>
                </div>
            </li>
            <li>
                <div class="div-5">
                    <cite class="cite-1">Airpods</cite>
                </div>
                <div class="div-1">
                    <p class="p-1">数量：</p>
                    <input type="button" value="-">
                    <strong class="strong-s" id="strong-id">0</strong>
                    <input type="button" value="+">
                </div>
                <div class="div-4">
                    <div class="div-2">
                        单价：<cite>12元</cite>
                    </div>
                    <div class="div-3">
                        小记：<cite >0元</cite>
                    </div>
                </div>
            </li>
        </ul>
        <div class="div-6">
            <p class="div-6-p">总计：<cite id="total-price">0元</cite></p>
        </div>
    </div>
    <script>
        document.querySelectorAll('li').forEach(item => {
            // 获取当前列表项的减号按钮
            const decrementButton = item.querySelector('input[value="-"]');
            // 获取当前列表项的加号按钮
            const incrementButton = item.querySelector('input[value="+"]');
            // 获取当前列表项的数量显示元素
            const quantityElement = item.querySelector('strong');
            // 获取当前列表项的单价显示元素
            const unitPriceElement = item.querySelector('.div-2 cite');
            // 获取当前列表项的小计显示元素
            const subtotalElement = item.querySelector('.div-3 cite');
            // 将单价从文本中提取并转换为数字
            const unitPrice = parseFloat(unitPriceElement.textContent.replace('元', ''));
            // 获取总价显示的元素
            const totalPriceElement = document.getElementById('total-price');
            
            // 为加号按钮添加点击事件监听器
            incrementButton.addEventListener('click', function() {
                // 获取当前数量并增加1
                let quantity = parseInt(quantityElement.textContent);
                quantityElement.textContent = ++quantity;
                // 更新当前项的小计和总价
                updateSubtotalAndTotal(quantity);
            });

            // 为减号按钮添加点击事件监听器
            decrementButton.addEventListener('click', function() {
                // 获取当前数量并减少1（前提是数量大于0）
                let quantity = parseInt(quantityElement.textContent);
                if (quantity > 0) {
                    quantityElement.textContent = --quantity;
                    // 更新当前项的小计和总价
                    updateSubtotalAndTotal(quantity);
                }
            });

            // 更新当前项的小计和总价
            function updateSubtotalAndTotal(quantity) {
                // 计算小计金额（数量 * 单价）
                const subtotal = quantity * unitPrice;
                // 更新当前项的小计显示
                subtotalElement.textContent = `${subtotal}元`;
                // 更新总价
                updateTotalPrice();
            }

            // 计算并更新总价
            function updateTotalPrice() {
                let totalPrice = 0;
                // 遍历所有小计，计算总价
                document.querySelectorAll('.div-3 cite').forEach(subtotal => {
                    totalPrice += parseFloat(subtotal.textContent.replace('元', ''));
                });
                // 更新总价显示
                totalPriceElement.textContent = `${totalPrice}元`;
            }
        });
    </script>
</body>

</html>